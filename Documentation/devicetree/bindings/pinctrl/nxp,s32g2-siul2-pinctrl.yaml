# SPDX-License-Identifier: GPL-2.0
# Copyright (c) 2021 NXP
%YAML 1.2
---
$id: http://devicetree.org/schemas/pinctrl/nxp,s32g2-siul2-pinctrl.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: NXP SIUL2 IOMUX Controllers.

maintainers:
  - Ghennadi Procopciuc <Ghennadi.Procopciuc@nxp.com>
  - Chester Lin <clin@suse.com>

description: |
  An IOMUX controller driver for S32G2. There are two SIUL2 on S32G2.

properties:
  compatible:
    enum:
      - nxp,s32g2-siul2-pinctrl0
      - nxp,s32g2-siul2-pinctrl1

# Client device subnode's properties
patternProperties:
  'grp$':
    type: object
    description:
      Pinctrl node's client devices use subnodes for desired pin configuration.
      Client device subnodes use below standard properties.

    properties:
      fsl,pins:
        description:
          each entry consists of 2 integers and represents the mux and config
          setting for one pin. Even though IMCR register should be used as input
          register, it can be set and addressed in the same way as MSCR, only
          instead of passing the IMCR index, IMCR_IDX + 512 is passed.

        $ref: /schemas/types.yaml#/definitions/uint32-matrix
        items:
          items:
            - description: |
                "pinmux-id" indicates the pinmux ID.
            - description: |
                "mux-value" indicates the config value to this pin.

    required:
      - fsl,pins

    additionalProperties: false

required:
  - compatible

allOf:
  - $ref: "pinctrl.yaml#"

additionalProperties: false

examples:
  - |
    #include <dt-bindings/clock/s32g2-clock.h>

    pinctrl0: pinctrl {
        compatible = "nxp,s32g2-siul2-pinctrl0";
        #pinctrl-cells = <2>;
        reg = <0x4009c240 0x198>,
              <0x4009ca40 0x150>;
               /* MSCR range */
        pins = <&pinctrl0 0 101>,
               /* IMCR range */
               <&pinctrl0 512 595>;

        pinctrl0_gmac0_rgmii_c: gmac0rgmiicgrp {
            fsl,pins = <
                S32G2_GMAC0_TXCLK_OUT PAD_CTL_ENET_CFG1
                S32G2_GMAC0_TXCLK_IN  PAD_CTL_SRC_SIG_SEL2
                S32G2_GMAC0_TXEN_OUT  PAD_CTL_ENET_CFG2
            >;
        };
    };

...
